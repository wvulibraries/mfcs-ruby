<fieldset class="mt-0"> 
  <legend> Form Information </legend>

  <%= form.hidden_field :id %>

  <div class="field">
    <!-- Label -->
    <%= form.label :title, class: 'required' %> 
    <!-- Popover -->
    <span class="far fa-question-circle field-help" data-toggle="popover" data-trigger="click focus hover" data-content="The form name is a unique value that is used to identify a form."></span>
    <!-- Field -->
    <%= form.text_field :title, class: 'required', data: {action: "keyup->form-preview#settingChange", preview: "title" } %>
  </div>

  <div class="field">
    <%= form.label :display_title %>
    <!-- Popover -->
    <span class="far fa-question-circle field-help" data-toggle="popover" data-trigger="click focus hover" data-content="The display title is none unique and is used when the forms are listed.  This is the text you will read when using the interface, unless it is left empty."></span>
    <!-- Field -->
    <%= form.text_field :display_title, data: {action: "keyup->form-preview#settingChange change->form-preview#settingChange", preview: "displayTitle", target: "form-preview.displayTitleInput" } %>
  </div>

  <div class="field">
    <%= form.label :description, class: 'required' %>
    <!-- Popover -->
    <span class="far fa-question-circle field-help" data-toggle="popover" data-trigger="click focus hover" data-content="The form description explains the purpose of this form to users."></span>
    <!-- Field -->
    <%= form.text_area :description, data: {action: "keyup->form-preview#settingChange", preview: "description" } %>
  </div>

  <div class="field">
    <%= form.label :submit_button, class: 'required' %>
    <!-- Popover -->
    <span class="far fa-question-circle field-help" data-toggle="popover" data-trigger="click focus hover" data-content="During data entry this text will show up as the submit button."></span>
    <!-- Field -->
    <%= form.text_field :submit_button, data: {action: "keyup->form-preview#settingChange", preview: "submitButton" } %>
  </div>

  <div class="field">
    <%= form.label :update_button, class: 'required' %>
      <!-- Popover -->
    <span class="far fa-question-circle field-help" data-toggle="popover" data-trigger="click focus hover" data-content="During data entry this text will show up as the update button."></span>
    <!-- Field -->
    <%= form.text_field :update_button, data: { action: "keyup->form-preview#settingChange", preview: "updateButton" } %>
  </div>
</fieldset>

<fieldset>
  <legend> Form Settings </legend>
  <div class="row">
    <div class="field checkbox-wrapper col-12 col-md-6 m-0"> 
      <div class="checkbox">
        <%= form.check_box :container, {}, 'true', 'false' %>
        <%= form.label :container, 'Acts as Container' %>
      </div>
      <div class="checkbox">
        <%= form.check_box :production, {}, 'true', 'false' %>
        <%= form.label :production, 'Production Ready' %>
      </div>
      <div class="checkbox">
        <%= form.check_box :export_public, {}, 'true', 'false' %>
        <%= form.label :export_public, 'Export to Public' %>
      </div>
      <div class="checkbox">
        <%= form.check_box :export_oai, {}, 'true', 'false' %>
        <%= form.label :export_oai, 'OAI-PMH Export' %>
      </div>
    </div>

    <div class="field checkbox-wrapper col-12 col-md-6 m-0"> 
      <div class="checkbox">
        <%= form.check_box :object_public_release_show, {}, 'true', 'false' %>
        <%= form.label :object_public_release_show,  'Display Public Release' %>
      </div>
      <div class="checkbox">
        <%= form.check_box :object_public_release_default, {}, 'true', 'false' %>
        <%= form.label :object_public_release_default, 'Public Release Default "Yes"' %>
      </div>
    </div>
  </div>
</fieldset>

<fieldset> 
  <legend> Form Permissions </legend>
  <%= form.fields_for :permissions do |form| %>
    <%= render 'permission', form: form %>
  <% end %>

  <%= link_to_add_fields "Add Permissions", form, :permissions %>
</fieldset>

<div class="hidden field">
  <%= form.hidden_field :metadata %>
  <%# form.hidden_field :fields, {data: { target: 'form-builder.fieldSettingsJSON'}} %> 
  <%= form.hidden_field :idno %>
  <input data-target="form-builder.fieldSettingsJSON" type="hidden" value="<%= @form.fields %>" name="form[fields]" id="form_fields">
</div>

  

