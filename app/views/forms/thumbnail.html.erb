<header class="page-header">
  <h1> List Objects  - <%= @form.display_title %> </h1>
</header>

<!-- float div right -->
<div class="listToggles btn-group button-group pull-right">
    <a class="btn btn-primary" href="/forms/dataview/<%= @form.id %>"><span class="fa fa-list-ol"></span></a>
    <a class="btn btn-primary" href="/forms/thumbnail/<%= @form.id %>"><span class="fa fas fa-images"></span></a>
    <a class="btn btn-primary" href="/forms/shelf/<%= @form.id %>"><span class="fa fa-list"></span></a>
</div>

<% unless @items.present? %>
      <%= I18n.t('form.no_items') %>
<% else %>
  <div class="table-responsive">
    <table class="table table-striped table-bordered" summary="Object Listing">
      <thead>
        <tr class="headerRow">
          <th class="header">Thumbnail</th>
          <th class="header">Creation Date</th>
          <th class="header">Modified Date</th>
          <th class="header">System IDNO</th>
          <th class="header">Form IDNO</th>
          <!-- Section Should be rendered based on from option "Display In List" -->
          <th class="header">Title</th>
          <th class="header headerSortDown text-center">View</th>
          <th class="header text-center">Edit</th>
          <th class="header text-center">Destroy</th>            
        </tr>
      </thead>
      
      <tbody>
      <% @items.each do |item| %>
          <tr>
            <td class="text-center"><%= image_tag("/media/thumb/#{item.thumb_id}") %></th>
            <td><%= item.created_at %> </th>
            <td><%= item.updated_at %> </th>
            <td><%= item.id %> </th>
            <td><%= item.idno %> </th>
            <td><%= item.data['title'] %> </th> 
            <td class="text-center"><%= link_to raw('<span class="fas fa-eye"></span>'), items_show_digital_object_path(item) %> </th>            
            <td class="text-center"><%= link_to raw('<span class="fas fa-edit"></span>'), items_edit_digital_objects_path(item) %></td>
            <td class="text-center"><%= link_to raw('<span class="fas fa-trash"></span>'), items_destroy_digital_object_path(item), method: :delete, data: { confirm: 'Are you sure?' } %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%# Render the navigation bar in your views %>
    
    <div data-controller="pagy-initializer">
      <%== pagy_bootstrap_nav(@pagy) %> 
      <%== pagy_items_selector_js(@pagy, item_name: 'Item'.pluralize(@pagy.count)) %>
    </div>
  </div>
<% end %>